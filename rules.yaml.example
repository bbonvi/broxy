server:
  listen: 0.0.0.0
  port: 3128

# Optional: Connection pool settings (defaults shown)
# pool:
#   max_idle_per_host: 10  # Max idle connections per upstream proxy
#   max_idle_total: 100    # Max total idle connections
#   idle_timeout: 90s      # How long idle connections live

proxies:
  - name: proxy_google
    type: http
    host: proxy1.example.com
    port: 8080

  - name: proxy_reddit
    type: socks5
    host: proxy2.example.com
    port: 1080
    auth:
      username: user
      password: pass

  - name: direct
    type: direct

rules:
  - match: domain
    value: ".google.com"
    proxy: proxy_google

  - match: domain
    values:
      - ".reddit.com"
      - ".redd.it"
    proxy: proxy_reddit

  - match: default
    proxy: direct
